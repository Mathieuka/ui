import { ArgsTable, Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { useState } from 'react'
import { Button } from 'ui/atoms/button/Button'
import { Toast } from 'ui/atoms/toast/Toast'
import { ThemeProvider } from 'ui/atoms/theme/ThemeProvider'
import { ThemeSwitcher } from 'ui/atoms/theme/ThemeSwitcher'

<Meta
  title="Atoms/Toast"
  component={Toast}
  parameters={{
    actions: { argTypesRegex: '^on.*' },
    docs: {
      source: {
        type: 'code'
      }
    }
  }}
  decorators={[
    Story => (
      <ThemeProvider>
        <div className="component-story-main">
          <ThemeSwitcher />
          <Story />
        </div>
      </ThemeProvider>
    )
  ]}
/>

# Toast

> Displays information following a user action.

[![stability-unstable](https://img.shields.io/badge/stability-unstable-yellow.svg)](https://github.com/emersion/stability-badges#unstable)

## Overview

### Description

A Toast is a modern display component that allows information to be displayed discreetly and non-intrusively following a user action.
Several severity levels make it possible to fully configure the type of message to convey to the user.

---

<Canvas>
  <Story
    name="Overview"
    argTypes={{ isOpened: { control: false } }}
    args={{
      title: 'Transaction',
      description: 'Your data space has been successfully created!',
      severityLevel: 'success'
    }}
  >
    {args => {
      return (
        <ToastComponent
          title={args.title}
          severityLevel={args.severityLevel}
          description={args.description}
        />
      )
    }}
    }
  </Story>
</Canvas>

export const ToastComponent = ({ title, description, severityLevel }) => {
  const [isOpened, setIsOpened] = useState(false)
  return (
    <div
      style={{
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        gap: '25px'
      }}
    >
      <Button label="Click-me!" onClick={() => setIsOpened(true)} />
      <Toast
        description={description}
        isOpened={isOpened}
        onOpenChange={() => setIsOpened(false)}
        title={title}
        severityLevel={severityLevel}
      />
    </div>
  )
}

---

### Properties

<ArgsTable story="Overview" />
